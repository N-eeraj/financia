import N from"./Icon.d09fe991.js";import{i as m,B as k,o as f,c as y,a as B,j as l,z as x,E,t as A,n as V,b as T,h as q}from"./entry.775ef5a6.js";const j={class:"relative flex-column"},z=["value","type","placeholder","onKeypress"],$={key:0,class:"text-theme-error mt-1","data-cy":"error-msg"},M={__name:"Input",props:{modelValue:{type:String,required:!1},type:{type:String,required:!1,default:"text",validator(e){return["email","number","password","search","tel","text","url"].includes(e)}},validator:{type:Function,required:!1},error:{type:String,required:!1},variant:{type:String,required:!1,default:"filled",validator(e){return["filled","outlined","clear"].includes(e)}},placeholder:{type:String,required:!1},dark:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue","input","keypress","keydown","keyup","enter","focus","blur"],setup(e,{expose:r,emit:t}){const a=e,i=m(()=>{const s={filled:{background:"bg-white",border:{dark:"border-theme-grey-light",light:"border-theme-grey-dark"}},outlined:{background:"bg-transparent",border:{dark:"border-theme-light",light:"border-theme-dark"}},clear:{background:"bg-theme-light/10 backdrop-blur-sm",border:{dark:"border-theme-light/50",light:"border-theme-dark/50"}}},b=a.dark?"text-theme-light":"text-theme-dark";return[s[a.variant].background,s[a.variant].border[a.theme],b]}),u=k(!1),P=m(()=>a.type==="password"&&u.value?"text":a.type),S=()=>u.value=!u.value,h=k(null),c=()=>{if(!a.validator)return;const s=a.validator(a.modelValue)||{error:!1};h.value=s.error?s.message:null},w=m(()=>a.error||h.value),p=m(()=>!w.value),U=({target:s})=>{t("update:modelValue",s.value),t("input",s.value)},_=({target:s})=>t("keydown",s.value),I=({target:s})=>t("keypress",s.value),C=({target:s})=>{h.value&&c(),t("keyup",s.value)},L=({target:s})=>{c(),t("enter",s.value)},D=({target:s})=>t("focus",s.value),K=({target:s})=>{c(),t("blur",s.value)};return r({validate:c,isValid:p}),(s,b)=>{const F=N;return f(),y("div",j,[B("input",{value:e.modelValue,type:l(P),placeholder:e.placeholder,class:x(["w-full px-5 py-3 rounded-md border placeholder:text-theme-grey-light focus:border-2",[l(i),!l(p)&&"border-theme-error animate-error"]]),"data-cy":"input",onInput:U,onKeypress:[I,E(L,["enter"])],onKeydown:_,onKeyup:C,onFocus:D,onBlur:K},null,42,z),l(p)?V("",!0):(f(),y("span",$,A(l(w)),1)),e.type==="password"?(f(),y("button",{key:1,type:"button",class:x(["absolute top-1/2 right-2",l(p)?"-translate-y-1/2":"-translate-y-[calc(50%+14px)]"]),onClick:S,"data-cy":"password-visiblity-toggle-btn"},[T(F,{name:`mdi-eye${l(u)?"-off":""}`,size:"24",class:"text-theme-grey-light"},null,8,["name"])],2)):V("",!0)])}}},d={email:/^[\w-\.]+@([\w-]+\.)+[\w-]{2,5}$/,digit:/\d/,lowercase:/[a-z]/,uppercase:/[A-Z]/,phoneNumber:/^[\+]?[(]?\d{3}[)]?[-\s\.]?\d{3}[-\s\.]?\d{4,6}$/},n=e=>({error:!0,message:e}),H=e=>{const r=Object.values(e);return r.forEach(t=>t.validate()),r.every(t=>t.isValid)},g=e=>e?{error:!1}:n("This field is required"),O=e=>{const r=g(e);return r.error?r:e.length===1?n("Name must be atleast 2 characters long"):{error:!1}},R=e=>{const r=g(e);return r.error?r:d.email.test(e)?{error:!1}:n("Please enter a valid email")},Y=e=>e?d.phoneNumber.test(e)?{error:!1}:n("Please enter a valid phone number"):{error:!1},G=e=>{const r=g(e);return r.error?r:e.length<8?n("Password must be atleast 8 characters"):d.digit.test(e)?d.lowercase.test(e)?d.uppercase.test(e)?{error:!1}:n("Password must include atleast 1 uppercase"):n("Password must include atleast 1 lowercase"):n("Password must include atleast 1 number")},Q=(e,r,t="fields")=>e!==r?n(`The ${t} doesn't match`):{error:!1},o=[{id:1,name:"Admin",email:"admin@test.com",password:"Admin@123",phone:"0123456789",profilePicture:"https://conference.vueschool.io/storage/FRuSH6433nMeal3mhNbYhnwLSqqZgK9k4S5k55vZ.jpg"},{id:2,name:"John Doe",email:"johndoe@test.com",password:"doeJohn@123"},{id:3,name:"Alice Snow",email:"alicesnow@test.com",password:"snowAlice@123"}],v=()=>{const{user:e}=q(),r=o.findIndex(({id:t})=>(e==null?void 0:e.id)===t);if(r===-1)throw"User Not Found";return r},W=({email:e,password:r})=>{for(let t of o)if(t.email.toLocaleLowerCase()===e.toLocaleLowerCase())if(t.password===r){const{password:a,...i}=t;return i}else throw"Incorrect Password";throw"User Not Found"},X=({name:e,email:r,password:t})=>{if(o.some(i=>i.email.toLocaleLowerCase()===r.toLocaleLowerCase()))throw"Email id already exists";const a={id:++o[o.length-1].id,name:e,email:r};return o.push({...a,password:t}),a},ee=e=>{const r=v(),t={...o[r],...e};o[r]=t;const{setUser:a}=q();a(t)},re=({password:e,newPassword:r})=>{const t=v(),a=o[t];return a.password!==e?{success:!1,message:"Incorrect Password"}:(a.password=r,o[t]=a,{success:!0,message:"Successfully Updated Password"})},te=()=>{const e=v();o.splice(e,1)};export{M as _,Y as a,ee as b,Q as c,te as d,R as e,W as f,X as g,O as n,G as p,g as r,re as u,H as v};
